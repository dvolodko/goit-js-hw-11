{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const KEY = '32552782-0d4c86680018457e820f20492';\nconst basicUrl = 'https://pixabay.com/api/';\n\nexport function fetchImages(query) {\n  const searchParams = new URLSearchParams({\n    key: KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${basicUrl}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","const gallery = document.querySelector('.gallery');\n\nexport function renderImages(images) {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\">\n            <div class=\"gallery-image-stats\">\n            <ul class=\"gallery-image-stats-list\">\n              <li class=\"gallery-image-stats-item\">\n                <p class=\"gallery-image-stats-title\">Likes</p>\n                <p class=\"gallery-image-stats-text\">${likes}</p>\n              </li>\n              <li class=\"gallery-image-stats-item\">\n                <p class=\"gallery-image-stats-title\">Views</p>\n                <p class=\"gallery-image-stats-text\">${views}</p>\n              </li>\n              <li class=\"gallery-image-stats-item\">\n                <p class=\"gallery-image-stats-title\">Comments</p>\n                <p class=\"gallery-image-stats-text\">${comments}</p>\n              </li>\n              <li class=\"gallery-image-stats-item\">\n                <p class=\"gallery-image-stats-title\">Downloads</p>\n                <p class=\"gallery-image-stats-text\">${downloads}</p>\n              </li>\n            </ul>\n          </div>\n        </a>\n      </li>`;\n      }\n    )\n    .join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchImages } from './js/pixabay-api';\nimport { renderImages } from './js/render-functions';\n\nconst form = document.querySelector('.form');\nform.addEventListener('submit', submitHandler);\n\nconst gallery = document.querySelector('.gallery');\n\nconst lightBox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  overlayOpacity: 0.8,\n});\n\nfunction submitHandler(e) {\n  e.preventDefault();\n  const query = e.target.elements.searchField.value.toLowerCase().trim();\n\n  if (!query) {\n    iziToast.error({\n      title: 'Oops!',\n      message:\n        'Sorry, you have to type something in the search field. Please try again!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  gallery.innerHTML = '<span class=\"loader\"></span>';\n\n  fetchImages(query)\n    .then(images => {\n      if (images.hits.length === 0) {\n        iziToast.error({\n          title: 'Oops!',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        gallery.innerHTML = '';\n        return;\n      } else {\n        iziToast.success({\n          title: 'Hooray!',\n          message: `We have found ${images.hits.length} images for you!`,\n          position: 'topRight',\n        });\n      }\n\n      gallery.innerHTML = '';\n      renderImages(images.hits);\n      lightBox.refresh();\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Oops!',\n        message: `Sorry, there is some error: ${error}`,\n        position: 'topRight',\n      });\n    });\n  form.reset();\n}\n"],"names":["KEY","basicUrl","fetchImages","query","searchParams","response","gallery","renderImages","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","submitHandler","lightBox","SimpleLightbox","e","iziToast","error"],"mappings":"6vBAAA,MAAMA,EAAM,qCACNC,EAAW,2BAEV,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CClBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE1C,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,wCACyBL,CAAa;AAAA,4CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,sDAKhBC,CAAK;AAAA;AAAA;AAAA;AAAA,sDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,sDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,sDAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,YAO1D,EACA,KAAK,EAAE,EACVV,EAAQ,mBAAmB,YAAaG,CAAM,CAChD,CClCA,MAAMQ,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUC,CAAa,EAE7C,MAAMZ,EAAU,SAAS,cAAc,UAAU,EAE3Ca,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,eAAgB,EAClB,CAAC,EAED,SAASF,EAAcG,EAAG,CACxBA,EAAE,eAAc,EAChB,MAAMlB,EAAQkB,EAAE,OAAO,SAAS,YAAY,MAAM,cAAc,OAEhE,GAAI,CAAClB,EAAO,CACVmB,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UAChB,CAAK,EACD,MACD,CAEDhB,EAAQ,UAAY,+BAEpBJ,EAAYC,CAAK,EACd,KAAKK,GAAU,CACd,GAAIA,EAAO,KAAK,SAAW,EAAG,CAC5Bc,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACpB,CAAS,EACDhB,EAAQ,UAAY,GACpB,MACR,MACQgB,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,iBAAiBd,EAAO,KAAK,MAAM,mBAC5C,SAAU,UACpB,CAAS,EAGHF,EAAQ,UAAY,GACpBC,EAAaC,EAAO,IAAI,EACxBW,EAAS,QAAO,CACtB,CAAK,EACA,MAAMI,GAAS,CACdD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+BAA+BC,CAAK,GAC7C,SAAU,UAClB,CAAO,CACP,CAAK,EACHN,EAAK,MAAK,CACZ"}